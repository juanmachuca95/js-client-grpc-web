{"ast":null,"code":"import _slicedToArray from \"/home/juan/node_projects/js-client-grpc-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/juan/node_projects/js-client-grpc-web/src/components/Layout/Header/Header.js\";\nimport React, { useState, useEffect } from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\nimport { Button, Container } from '@mui/material';\nimport { Link } from 'react-router-dom';\nimport useToken from '../../../App/useToken';\nimport Login from '../../../Login';\n\nfunction Header() {\n  var _useToken = useToken(),\n      token = _useToken.token,\n      setToken = _useToken.setToken;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  useEffect(function () {\n    getUser();\n  }, []);\n\n  var Logout = function Logout() {\n    sessionStorage.clear();\n    sessionStorage.removeItem('token');\n    window.location = \"/\";\n  };\n\n  var getUser = function getUser() {\n    console.log(\"token. . . .\", token);\n    var token_decoded = jwt_decode(token);\n    var user = {\n      users_id: token_decoded.users_id,\n      name: token_decoded.name,\n      photo: token_decoded.profile_photo_path\n    };\n    setUser(user);\n  };\n\n  if (!token) {\n    return /*#__PURE__*/React.createElement(Login, {\n      setToken: setToken,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 16\n      }\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      sx: {\n        flexGrow: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(AppBar, {\n      position: \"static\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Toolbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      align: \"left\",\n      color: \"inherit\",\n      LinkComponent: Link,\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 33\n      }\n    }, \"Subastas\"), /*#__PURE__*/React.createElement(Button, {\n      color: \"inherit\",\n      onClick: Logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 33\n      }\n    }, user.name), /*#__PURE__*/React.createElement(Button, {\n      color: \"inherit\",\n      onClick: Logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 33\n      }\n    }, \"Log Out\"))))));\n  }\n}\n\nexport default Header;","map":{"version":3,"sources":["/home/juan/node_projects/js-client-grpc-web/src/components/Layout/Header/Header.js"],"names":["React","useState","useEffect","AppBar","Box","Toolbar","Button","Container","Link","useToken","Login","Header","token","setToken","user","setUser","getUser","Logout","sessionStorage","clear","removeItem","window","location","console","log","token_decoded","jwt_decode","users_id","name","photo","profile_photo_path","flexGrow"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AAEA,SAASC,MAAT,EAAiBC,SAAjB,QAAkC,eAAlC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;AAGA,SAASC,MAAT,GAAiB;AAAA,kBACeF,QAAQ,EADvB;AAAA,MACLG,KADK,aACLA,KADK;AAAA,MACEC,QADF,aACEA,QADF;;AAAA,kBAEWZ,QAAQ,CAAC,EAAD,CAFnB;AAAA;AAAA,MAENa,IAFM;AAAA,MAEAC,OAFA;;AAIbb,EAAAA,SAAS,CAAC,YAAI;AACVc,IAAAA,OAAO;AACV,GAFQ,EAEP,EAFO,CAAT;;AAIA,MAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACjBC,IAAAA,cAAc,CAACC,KAAf;AACAD,IAAAA,cAAc,CAACE,UAAf,CAA0B,OAA1B;AACAC,IAAAA,MAAM,CAACC,QAAP,GAAgB,GAAhB;AACH,GAJD;;AAMA,MAAMN,OAAO,GAAG,SAAVA,OAAU,GAAM;AAClBO,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BZ,KAA5B;AACA,QAAIa,aAAa,GAAGC,UAAU,CAACd,KAAD,CAA9B;AACA,QAAIE,IAAI,GAAG;AACPa,MAAAA,QAAQ,EAAEF,aAAa,CAACE,QADjB;AAEPC,MAAAA,IAAI,EAAEH,aAAa,CAACG,IAFb;AAGPC,MAAAA,KAAK,EAAEJ,aAAa,CAACK;AAHd,KAAX;AAKAf,IAAAA,OAAO,CAACD,IAAD,CAAP;AACH,GATD;;AAWA,MAAG,CAACF,KAAJ,EAAU;AACN,wBAAO,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAEC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH,GAFD,MAEK;AACD,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE;AAAEkB,QAAAA,QAAQ,EAAE;AAAZ,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,MAAd;AAAqB,MAAA,KAAK,EAAC,SAA3B;AAAqC,MAAA,aAAa,EAAEvB,IAApD;AAA0D,MAAA,EAAE,EAAC,GAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAMI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAwB,MAAA,OAAO,EAAES,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACMH,IAAI,CAACc,IADX,CANJ,eAWI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAwB,MAAA,OAAO,EAAEX,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAXJ,CADJ,CADJ,CADJ,CADJ,CADJ;AA4BH;AAGJ;;AAED,eAAeN,MAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\n\nimport { Button, Container } from '@mui/material';\nimport { Link } from 'react-router-dom';\nimport useToken from '../../../App/useToken';\nimport Login from '../../../Login';\n\n\nfunction Header(){\n    const { token, setToken } = useToken();\n    const [user, setUser] = useState({});\n\n    useEffect(()=>{\n        getUser();\n    },[])\n\n    const Logout = () => {\n        sessionStorage.clear();\n        sessionStorage.removeItem('token');\n        window.location=\"/\";\n    }\n\n    const getUser = () => {\n        console.log(\"token. . . .\", token)\n        var token_decoded = jwt_decode(token);\n        let user = {\n            users_id: token_decoded.users_id,\n            name: token_decoded.name,\n            photo: token_decoded.profile_photo_path,\n        }\n        setUser(user);\n    }\n\n    if(!token){\n        return <Login setToken={setToken} />\n    }else{\n        return(\n            <header>\n                <Box sx={{ flexGrow: 1 }}>\n                    <AppBar position=\"static\">\n                        <Container>\n                            <Toolbar>\n                                \n                                <Button align=\"left\" color='inherit' LinkComponent={Link} to='/' >\n                                    Subastas\n                                </Button>\n\n                                <Button color='inherit' onClick={Logout}>\n                                    { user.name }\n                                </Button>\n\n                                \n                                <Button color='inherit' onClick={Logout}>\n                                    Log Out\n                                </Button>\n\n\n                            \n                            </Toolbar>\n                        </Container>\n                    </AppBar>\n                </Box>\n            </header>\n        );\n    }\n\n\n}\n  \nexport default Header;"]},"metadata":{},"sourceType":"module"}