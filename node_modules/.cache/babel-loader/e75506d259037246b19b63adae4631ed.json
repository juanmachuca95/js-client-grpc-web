{"ast":null,"code":"import _slicedToArray from \"/home/juan/node_projects/js-client-grpc-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/juan/node_projects/js-client-grpc-web/src/components/Layout/Header/Header.js\";\nimport React, { useEffect, useState } from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\nimport { Button, Container } from '@mui/material';\nimport { Link } from 'react-router-dom';\nimport useToken from '../../../App/useToken';\nimport Login from '../../../Login';\n\nfunction Header() {\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLogin = _useState2[0],\n      setLogin = _useState2[1];\n\n  var _useToken = useToken(),\n      token = _useToken.token,\n      setToken = _useToken.setToken;\n\n  var Logout = function Logout() {\n    sessionStorage.clear();\n    sessionStorage.removeItem('token');\n    setLogin(0);\n  };\n\n  useEffect(function () {\n    Logout();\n    return function () {\n      setState({}); // This worked for me\n    };\n  }, []);\n\n  if (!token && isLogin == 0) {\n    return /*#__PURE__*/React.createElement(Login, {\n      setToken: setToken,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 16\n      }\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      sx: {\n        flexGrow: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(AppBar, {\n      position: \"static\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Toolbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"inherit\",\n      LinkComponent: Link,\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 29\n      }\n    }, \"Subastas\"), /*#__PURE__*/React.createElement(Button, {\n      color: \"inherit\",\n      onClick: Logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 29\n      }\n    }, \"Log Out\"))))));\n  }\n}\n\nexport default Header;","map":{"version":3,"sources":["/home/juan/node_projects/js-client-grpc-web/src/components/Layout/Header/Header.js"],"names":["React","useEffect","useState","AppBar","Box","Toolbar","Button","Container","Link","useToken","Login","Header","isLogin","setLogin","token","setToken","Logout","sessionStorage","clear","removeItem","setState","flexGrow"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AAEA,SAASC,MAAT,EAAiBC,SAAjB,QAAkC,eAAlC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;AAGA,SAASC,MAAT,GAAiB;AAAA,kBACeT,QAAQ,CAAC,CAAD,CADvB;AAAA;AAAA,MACNU,OADM;AAAA,MACGC,QADH;;AAAA,kBAEeJ,QAAQ,EAFvB;AAAA,MAELK,KAFK,aAELA,KAFK;AAAA,MAEEC,QAFF,aAEEA,QAFF;;AAIb,MAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACjBC,IAAAA,cAAc,CAACC,KAAf;AACAD,IAAAA,cAAc,CAACE,UAAf,CAA0B,OAA1B;AACAN,IAAAA,QAAQ,CAAC,CAAD,CAAR;AACH,GAJD;;AAMAZ,EAAAA,SAAS,CAAC,YAAM;AACZe,IAAAA,MAAM;AAEN,WAAO,YAAM;AACTI,MAAAA,QAAQ,CAAC,EAAD,CAAR,CADS,CACK;AACf,KAFH;AAGH,GANQ,EAMN,EANM,CAAT;;AAQA,MAAG,CAACN,KAAD,IAAUF,OAAO,IAAI,CAAxB,EAA0B;AACtB,wBAAO,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAEG,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH,GAFD,MAEK;AACD,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE;AAAEM,QAAAA,QAAQ,EAAE;AAAZ,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAwB,MAAA,aAAa,EAAEb,IAAvC;AAA6C,MAAA,EAAE,EAAC,GAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAKA,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAwB,MAAA,OAAO,EAAEQ,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALA,CADJ,CADJ,CADJ,CADJ,CADJ;AAoBH;AAGJ;;AAED,eAAeL,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\n\nimport { Button, Container } from '@mui/material';\nimport { Link } from 'react-router-dom';\nimport useToken from '../../../App/useToken';\nimport Login from '../../../Login';\n\n\nfunction Header(){\n    const [isLogin, setLogin] = useState(1);\n    const { token, setToken } = useToken();\n\n    const Logout = () => {\n        sessionStorage.clear();\n        sessionStorage.removeItem('token');\n        setLogin(0);\n    }\n\n    useEffect(() => {\n        Logout();\n\n        return () => {\n            setState({}); // This worked for me\n          };\n    }, [])\n\n    if(!token && isLogin == 0){\n        return <Login setToken={setToken} />\n    }else{\n        return(\n            <header>\n                <Box sx={{ flexGrow: 1 }}>\n                    <AppBar position=\"static\">\n                        <Container>\n                            <Toolbar>\n                            <Button color='inherit' LinkComponent={Link} to='/'>\n                                Subastas\n                            </Button>\n    \n                            <Button color='inherit' onClick={Logout}>\n                                Log Out\n                            </Button>\n                            \n                            </Toolbar>\n                        </Container>\n                    </AppBar>\n                </Box>\n            </header>\n        );\n    }\n\n\n}\n  \nexport default Header;"]},"metadata":{},"sourceType":"module"}